import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegait for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a JSON formatted travel plan for a budget-conscious couple spending 3 days in Las Vegas. This plan focuses on free or low-cost activities, and affordable accommodations:\n\n```json\n{\n  "tripName": "Las Vegas on a Budget: 3-Day Couple\'s Getaway",\n  "travelers": "Couple",\n  "budget": "Cheap",\n  "duration": "3 Days",\n  "hotels": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$40 - $80/night",\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/a7/70/4a/exterior.jpg?w=700&h=-1&s=1",\n       "geoCoordinates": {\n        "latitude": 36.1349,\n        "longitude": -115.1657\n      },\n      "rating": 3.5,\n      "description": "Affordable option on the Strip, known for its family-friendly atmosphere and Adventuredome theme park. Basic rooms but good for budget travelers."\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$50 - $90/night",\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/66/88/e3/exterior.jpg?w=700&h=-1&s=1",\n        "geoCoordinates": {\n        "latitude": 36.0989,\n        "longitude": -115.1740\n      },\n      "rating": 4.0,\n       "description": "Medieval-themed hotel offering reasonably priced rooms and several dining options. Good location at the south end of the Strip."\n    },\n    {\n      "hotelName": "OYO Hotel & Casino Las Vegas",\n      "hotelAddress": "115 E Tropicana Ave, Las Vegas, NV 89109",\n       "price": "$35 - $75/night",\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/6f/95/20/oyo-hotel-casino-las.jpg?w=700&h=-1&s=1",\n        "geoCoordinates": {\n        "latitude": 36.1018,\n         "longitude": -115.1676\n      },\n      "rating": 3.0,\n      "description": "A budget hotel, formerly Hooters. Close to the Strip with basic amenities. May require some walking to reach main attractions."\n    }\n  ],\n    "itinerary": {\n      "day1": {\n        "theme": "Exploring the Strip & Free Entertainment",\n        "bestTimeToVisit": "Late afternoon/Evening",\n        "places": [\n          {\n            "placeName": "Bellagio Conservatory & Botanical Gardens",\n            "placeDetails": "Stunning seasonal floral displays in a beautiful indoor garden.",\n            "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/49/aa/1d/bellagio-conservatory-botanical.jpg?w=700&h=-1&s=1",\n              "geoCoordinates": {\n                "latitude": 36.1128,\n                "longitude": -115.1745\n              },\n            "ticketPricing": "Free",\n              "timeToTravel": "Walking distance from most hotels on the Strip"\n\n          },\n           {\n            "placeName": "Fountains of Bellagio",\n            "placeDetails": "Spectacular water, music, and light show in front of the Bellagio hotel.",\n            "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/05/6b/15/38/fountains-of-bellagio.jpg?w=700&h=-1&s=1",\n            "geoCoordinates": {\n              "latitude": 36.1127,\n              "longitude": -115.1738\n              },\n            "ticketPricing": "Free",\n             "timeToTravel": "Directly in front of Bellagio, right after Conservatory visit"\n          },\n          {\n            "placeName": "The Volcano at The Mirage",\n            "placeDetails": "Simulated volcanic eruption with fire and sound effects.",\n            "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/13/41/b6/08/photo0jpg.jpg?w=700&h=-1&s=1",\n               "geoCoordinates": {\n                "latitude": 36.1199,\n                "longitude": -115.1742\n              },\n            "ticketPricing": "Free",\n            "timeToTravel": "5-10 minute walk north on the strip"\n          }\n        ]\n      },\n      "day2": {\n          "theme": "Downtown Vegas & Local Experiences",\n         "bestTimeToVisit": "Afternoon/Evening",\n        "places": [\n          {\n              "placeName": "Fremont Street Experience",\n              "placeDetails": "Pedestrian mall with a massive video screen canopy, light shows, and street performers.",\n              "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/8a/9e/70/downtown-fremont-street.jpg?w=700&h=-1&s=1",\n                "geoCoordinates": {\n                "latitude": 36.1700,\n                "longitude": -115.1400\n              },\n              "ticketPricing": "Free (for walking around, attractions may cost)",\n              "timeToTravel": "Bus (Deuce) or ride-share from the Strip (20-30 minutes)"\n          },\n            {\n                "placeName": "Container Park",\n                "placeDetails": "Outdoor shopping center built from repurposed shipping containers, with a playground and live music.",\n               "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/b0/21/e5/container-park.jpg?w=700&h=-1&s=1",\n                 "geoCoordinates": {\n                    "latitude": 36.1682,\n                    "longitude": -115.1395\n                 },\n                "ticketPricing": "Free (for browsing, individual shop prices vary)",\n                "timeToTravel": "5-minute walk from Fremont Street"\n            },\n           {\n                "placeName": "Seven Magic Mountains",\n                "placeDetails": "Colorful art installation located a short distance from Las Vegas.",\n                "placeImageUrl":"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/33/19/8b/photo0jpg.jpg?w=700&h=-1&s=1",\n                   "geoCoordinates": {\n                    "latitude": 35.9872,\n                    "longitude": -115.2676\n                  },\n                "ticketPricing": "Free",\n                 "timeToTravel": "30-40 minute drive south on I-15 (ride-share or car rental recommended)"\n            }\n\n        ]\n      },\n        "day3": {\n          "theme": "South Strip & Departure",\n         "bestTimeToVisit": "Morning/Afternoon",\n          "places": [\n           {\n              "placeName": "The Welcome to Fabulous Las Vegas Sign",\n              "placeDetails": "Iconic landmark for a photo opportunity.",\n               "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/b3/3c/3e/the-welcome-to-fabulous.jpg?w=700&h=-1&s=1",\n                "geoCoordinates": {\n                "latitude": 36.0827,\n                "longitude": -115.1725\n               },\n              "ticketPricing": "Free",\n                "timeToTravel": "Bus (Deuce) or ride-share from the hotel (10-15 minutes)"\n            },\n            {\n              "placeName": "M&M\'s World & Coca-Cola Store",\n              "placeDetails": "Fun and quirky candy and soda-themed attractions. Good for browsing and souvenirs (some cost involved if buying).",\n               "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/04/5b/9a/m-m-s-world-las-vegas.jpg?w=700&h=-1&s=1",\n               "geoCoordinates": {\n                "latitude": 36.1074,\n                "longitude": -115.1700\n              },\n              "ticketPricing": "Free to enter, purchases are optional",\n              "timeToTravel": "Bus (Deuce) or ride-share from the sign(5-10 minutes)"\n            },\n          {\n            "placeName":"High Roller Observation Wheel (Optional)",\n             "placeDetails": "A large observation wheel on the Las Vegas Strip, offering stunning views of the city.",\n             "placeImageUrl":"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/19/51/ee/32/high-roller-observation.jpg?w=700&h=-1&s=1",\n               "geoCoordinates": {\n                "latitude": 36.1170,\n                 "longitude": -115.1696\n              },\n            "ticketPricing":"$25-$35 (optional, depending on budget)",\n            "timeToTravel":"Short walk or bus from the M&M\'s store"\n          }\n\n          ]\n        }\n      }\n}\n```\n**Important Notes for your Trip:**\n\n*   **Transportation:** Utilize the Deuce bus on the Strip for affordable transportation. Consider ride-sharing or renting a car for the Seven Magic Mountains if it\'s a must-see for you.\n*   **Food:** Take advantage of affordable eateries, food courts, and consider bringing your own snacks and drinks.\n*   **Water:** Las Vegas is a desert, so stay hydrated! Bring a reusable water bottle.\n*   **Flexibility:** Be prepared to adjust your plan based on weather, your energy levels, and the crowds.\n*   **Walking Shoes:** You\'ll be doing a lot of walking, so pack comfortable shoes.\n*   **Free Activities:** Always check for free events and entertainment happening during your trip. Hotel lobbies, and street performances are all great options.\n*   **Hotel Prices:** Prices can fluctuate. Book in advance and look for deals!\n\nThis plan offers a mix of iconic Vegas sights, quirky local spots, and opportunities for fun without breaking the bank. Have a great trip!\n',
        },
      ],
    },
  ],
});
